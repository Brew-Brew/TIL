# YOU DON'T KNOW JS (this와 객체 프로토타입, 비동기와 성능)

`this`

- 렉시컬 스코프 안에 있는 뭔가를 this 레퍼런스로 참조하기란 애당초 가능하지 않다.
- 어떤 함수를 호출하면 활성화 레코드, 즉 싱행 컨텍스트가 만들어진다. 여기엔 함수가 호출된 근원 (Call stack)과 호출방법, 전달된 인자등의 정보가 담겨있다. this 레퍼런스는 그중 하나로, 함수가 실행되는 동안 이용할 수 있다.

`this 바인딩방법`

- 기본 바인딩 (1)
- 암시적 바인딩 (2)
- 명시적 바인딩 (3)
  - call, apply
- new 바인딩 (4)

우선순위 : (4)>(3)>(2)>(1)

**es6 화살표 함수는 표준 바인딩 규칙을 무시하고 렉시컬 스코프로 this를 바인딩한다**

`new 연산자`

- 전통적인 클래스 지향언어의 생성자는 클래스에 붙은 특별한 메서드로, 인스턴스 생성시 new연산자로 호출된다.
- 자바스크립트에선 new는 의미상 클래스지향적인 기능과 아무 상관이 없다.
- 자바스크립트 생성자는 앞에 new연산자가 있을때 호출되는 일반 함수에 불과하다.
- 함수앞에 new가 붙을때 아래와 같은 일들이 일어난다.
  - 새 객체가 만들어진다.
  - 새로 생성된 객체의 [[Prototype]] 이 연결된다.
  - 새로 생성된 객체는 해당함수 호출시 this로 바인딩 된다.
  - 이 함수가 자신의 또 다른 객체를 반환하지 않는 한 new와 함께 호출된 함수는 자동으로 생성된 객체를 반환한다.
